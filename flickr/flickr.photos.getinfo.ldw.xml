<?xml version="1.0" encoding="UTF-8"?>
<table xmlns="http://query.yahooapis.com/v1/schema/table.xsd">
  <meta>
    <author>David Young;davidbeckham2901@gmail.com</author>
    <documentationURL>https://www.flickr.com/services/api/flickr.photos.getInfo.html</documentationURL>
    <sampleQuery>select * from {table} where photo_id="109722179" and api_key="4fb031bf5b2f138576d011ff37f31565"</sampleQuery>
    <sampleQuery> URIPattern: http://rdf.onekin.org/flickr.photos.getinfo.ldw/resource/{photo_id}</sampleQuery>
	<sampleQuery> URIExample: http://rdf.onekin.org/flickr.photos.getinfo.ldw/resource/8142637344</sampleQuery>
	<sampleQuery> URIExample: http://rdf.onekin.org/flickr.photos.getinfo.ldw/resource/27376196615</sampleQuery>
  </meta>
  <bindings>
   <select itemPath="rsp.photo" produces="XML">
      <urls><url env="all">https://api.flickr.com/services/rest/?method=flickr.photos.getInfo</url></urls>
      <inputs>
        <key id="photo_id" type="xs:string" paramType="query" />
        <key id="api_key" type="xs:string" private="true" paramType="query" default="4fb031bf5b2f138576d011ff37f31565"/>
      </inputs>
    </select>
 <function name="lifting">
  <inputs>
     <pipe id="oneXML" paramType="variable"/>
     <key id="URI" paramType="variable" required="true"/>
  </inputs>
 <execute><![CDATA[
try{
 var oneJSON= y.xmlToJson(oneXML);
 var oneJSONLD = {};
 oneJSONLD['@id'] = URI;
 oneJSONLD['@context'] = {"schema":"http://schema.org/"};
 oneJSONLD['@type'] = 'VideoObject';
 oneJSONLD['schema:name'] = oneJSON['photo']['title'];
 oneJSONLD['schema:description'] = oneJSON['photo']['description'];
 oneJSONLD['schema:thumbnailUrl'] = 'https://c1.staticflickr.com/'+oneJSON['photo']['farm']+'/'+oneJSON['photo']['server'] +'/'+oneJSON['photo']['id']+'_'+oneJSON['photo']['secret'];
 oneJSONLD['schema:uploadDate'] = oneJSON['photo']['dates']['taken'];
 oneJSONLD['schema:duration'] = oneJSON['photo']['video']['duration'];
 oneJSONLD['schema:contentUrl'] = oneJSON['photo']['urls']['url'].content;
 oneJSONLD['schema:interactionCount'] = oneJSON['photo']['views'];
 }catch (err){ y.log(err);}
response.object = oneJSONLD;]]>
   </execute>
</function>
    </bindings>
 </table>

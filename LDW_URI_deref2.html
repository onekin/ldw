<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>Insert title here</title>
	<script type="text/javascript" src="http://linkedwidgets.org/widgets/WidgetHub.js"></script>
	<script type="text/javascript" src="http://linkedwidgets.org/autobahn.min.jgz"></script>
	<script src="http://code.jquery.com/jquery-latest.min.js" type="text/javascript"></script>
	<script type="text/javascript">
		var config = {
			size: {width: 305, height: 160}, // the width, height of your widget (in pixels)
			terminals: [ // define the position of your terminals
				{"name": "output", "position" : {"left": 1, "top": 1/2}, "type": "output"}
			],
			resizable: true // decide whether your widget is resizable or not
		};

		/*
		This function defines the job of your widget.
		*/
		function run(input) {
			output = {
			   "@context": { },
			   "@id": "http://example.com.sampleId",
			   "@type": "error",
			   "data": "error"
			};

			var url = $('#txtLink').val();
			if (url == ""){
				hub.sendError("URI should not be empty!")
				return output.data = "URI should not be empty!";
			}
			$.ajax({
				type: "GET",
				url: url,
				dataType: 'json',
				success: function (data) {
					output=data;
					hub.returnOutput(output);
				},
				error: function (data){
					hub.sendError("Invalid URI link!");
					return output;
				}
			});
		}
		var hub = new WidgetHub(config, run);
	</script>
</head>
<body>
	<table>
		<tr>
		<td><label for="txtLink">LDW URI Link: </label></td>
		<td><input id="txtLink" type="text" value ="http://rdf.onekin.org/vimeo.video.ldw11/videoobject/4964539"/><br/></td>
		</tr>
	</table>
</body>
</html>

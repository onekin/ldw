<?xml version="1.0" encoding="UTF-8"?>      <table xmlns="http://query.yahooapis.com/v1/schema/table.xsd">    <meta>        <author>Iker Azpeitia</author>        <description>LD Ayuntamientos de Euskadi</description>        <documentationURL>http://opendata.euskadi.eus/</documentationURL>        <!--lowering-->        <sampleQuery> URIPattern: http://rdf.onekin.org/ode.municipio/{rowPoblacin}</sampleQuery>        <sampleQuery> URIExample: http://rdf.onekin.org/ode.municipio/Donostia-San Sebastián</sampleQuery>    </meta>    <bindings>        <select itemPath="results.*" produces="XML">            <inputs>		<key id="rowPoblacin" type="xs:string" paramType="variable" required="true"/>        <key id="url" type="xs:string" paramType="variable" required="true" default="http://www2.irekia.euskadi.net/open_data/gc_ayuntamientos_datos_completos.csv"/>             </inputs>             <execute>                <![CDATA[ var q = "use 'https://raw.githubusercontent.com/iker/yql-tables/master/data/csv.params.xml' as csvp;select row from csvp where url =@url AND row.Poblacin = @rowPoblacin"; var params ={}; params ['url']= url;params ['rowPoblacin']= rowPoblacin;y.log(params);y.log(q); var query = y.query (q,params);  response.object =  query.results; ]]>            </execute>      </select>  <function name="lifting">	<inputs>		<pipe id="oneXML" paramType="variable"/>		<key id="URI" paramType="variable" required="true"/>	</inputs>	<execute>	<![CDATA[	var oneJSON= y.xmlToJson(oneXML);	var oneJSONLD={};	oneJSONLD['@id']=URI;	oneJSONLD['@context']= {"vcard":"http://www.w3.org/2006/vcard/ns#", "dbpediaont":"http://dbpedia.org/ontology/","rdfs":"http://www.w3.org/2000/01/rdf-schema#"};	oneJSONLD['@type']= 'vcard:Organization';  oneJSONLD['vcard:fn'] = oneJSON['rows']['row']['Poblacin'];  oneJSONLD['vcard:additional-name'] = oneJSON['rows']['row']['Entidad'];  var oneJSONLDaddr={};  oneJSONLDaddr['@type']= 'vcard:Address';  oneJSONLDaddr['vcard:street-address'] = oneJSON['rows']['row']['Calle'];  oneJSONLDaddr['vcard:postal-code'] = oneJSON['rows']['row']['CdigoPostal'];  oneJSONLDaddr["vcard:locality"] = oneJSON['rows']['row']['Poblacin'];  oneJSONLDaddr["vcard:country-name"] = 'España';  oneJSONLD["vcard:hasAddress"] =  oneJSONLDaddr;  var oneJSONLDgeo={};  oneJSONLDgeo['vcard:latitude'] = oneJSON['rows']['row']['Latitud'];  oneJSONLDgeo['vcard:longitude'] = oneJSON['rows']['row']['Longitud'];  oneJSONLD["vcard:hasGeo"] = oneJSONLDgeo;  oneJSONLD['vcard:tel'] = oneJSON['rows']['row']['Telfono'];  oneJSONLD['vcard:url'] = oneJSON['rows']['row']['Web'];  var key = oneJSON['rows']['row']['Poblacin'];  oneJSONLD['dbpediaont:relatedPlaces'] = [];  oneJSONLD['dbpediaont:relatedPlaces'].push('http://rdf.onekin.org/ode.farmacias/'+key);  oneJSONLD['dbpediaont:relatedPlaces'].push('http://rdf.onekin.org/ode.hospitales/'+key);  oneJSONLD['rdfs:seeAlso'] = 'http://rdf.onekin.org/weather.forecast.location.ldw/'+key;  response.object = oneJSONLD;]]>	</execute></function>    </bindings>  </table>

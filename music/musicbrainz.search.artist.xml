<table xmlns="http://query.yahooapis.com/v1/schema/table.xsd">
    <meta>
        <author>Maggie Pong</author>
        <description>MusicBrainz artist search</description>
        <documentationURL>http://musicbrainz.org/doc/Development/XML_Web_Service/Version_2/Search</documentationURL>
        <sampleQuery>select * from {table} where query ='Madonna' | {table}.lifting('http://rdf.onekin.org/musicbrainz/artist/Madonna')</sampleQuery>
        <sampleQuery>URIPattern: musicbrainz/artist/{query} </sampleQuery>
        <sampleQuery>URIExample: musicbrainz/artist/Madonna </sampleQuery>
    </meta>
    <bindings>
        <select itemPath="metadata.artist-list.artist" produces="XML">
            <urls>
                <url>https://musicbrainz.org/ws/2/artist</url>
            </urls>
            <inputs>
                <key id="query" type="xs:string" paramType="query" required="true"/>
            </inputs>

            <paging model="offset">
                <start id="offset" default="0" />
                <pagesize id="limit" max="100" />
                <total default="25" />
            </paging>
        </select>
        <function name="lifting">
<inputs>
<pipe id="oneArtistXML" paramType="variable" />
<key id="URI" paramType="variable" required="true"/>
</inputs>
<execute> <![CDATA[
var oneArtistJSON= y.xmlToJson(oneArtistXML);
var oneArtistJSONLD={'@context':{rdfs:'http://www.w3.org/2000/01/rdf-schema#',
foaf: 'http://xmlns.com/foaf/0.1/', mo: 'http://purl.org/ontology/mo/'}};
oneArtistJSONLD['@id']= URI;
if (oneArtistJSON.artist.type=="Group"){
	oneArtistJSONLD['@type']='mo:MusicGroup';
}else{
	oneArtistJSONLD['@type']='mo:MusicArtist';
}
oneArtistJSONLD['foaf:name']=oneArtistJSON.artist.name;
oneArtistJSONLD['mo:activity_start']=oneArtistJSON.artist['life-span'].begin;
response.object = oneArtistJSONLD;]]>
</execute>
</function>
     </bindings>
</table>

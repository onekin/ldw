<?xml version="1.0" encoding="UTF-8"?>
<table xmlns="http://query.yahooapis.com/v1/schema/table.xsd">
    <meta>
        <author>Iker Azpeitia</author>
        <description>Description of www.onekin.org research group</description>
        <documentationURL>http://www.onekin.org</documentationURL>
        <sampleQuery description="URIPattern">URIPattern: onekin/group/1</sampleQuery>
        <sampleQuery description="URIexample">URIexample: onekin/group/1</sampleQuery>
        <sampleQuery>select * from {table}</sampleQuery>
        <sampleQuery>select * from {table}| {table}.lifting('http:///rdf.onekin.org/onekin/group/1')</sampleQuery>
     </meta>
    <bindings>
        <select itemPath="query.results.a" produces="XML">
            <urls>
                <url>https://query.yahooapis.com/v1/public/yql?q=select%20*%20from%20html%20where%20url%3D'http%3A%2F%2Fwww.onekin.org%2Fmember'%20and%20xpath%3D'%2Fhtml%2Fbody%2Fdiv%5B1%5D%2Fdiv%5B4%5D%2Fdiv%5B1%5D%2Fdiv%2Fdiv%2Fdiv%2Fdiv%2Fdiv%2Fdiv%5B3%5D%2Fdiv%2Fdiv%2Fdiv%2Fdiv%5B1%5D%2Fdiv%2Fdiv%2Fdiv%2Fdiv%2Fdiv%2Ful%2Fli%2Fdiv%5B2%5D%2Fspan%2Fa'</url>
            </urls>
            <inputs>
                <key id="diagnostics" type="xs:string" paramType="query" default="true" />
            </inputs>
        </select>        
        
<function name="lifting">
<inputs>
<pipe id="oneXML" paramType="variable" />
<key id="URI" paramType="variable" required="true"/>
</inputs>
<execute> <![CDATA[
var oneJSON= y.xmlToJson(oneXML);
var oneJSONLD={'@context':{'dblpl3': 'http://dblp.l3s.de/d2r/resource/', 'foaf': 'http://xmlns.com/foaf/0.1/'}};
oneJSONLD['@id']= URI;
oneJSONLD['@type']='foaf:Group';
//http://dblp.l3s.de/d2r/page/authors/O._D%C3%ADaz
oneJSONLD['foaf:member']='http://dblp.l3s.de/d2r/resource/'+oneJSON.a.content;
response.object = oneJSONLD;
]]>
</execute>          
</function>     

     </bindings>
</table>
